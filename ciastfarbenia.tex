\chapter{FIXME: Vymysliet nazov}

FIXME: uvod

\begin{defn}
    Nech $f$ je čiastočné $L(2,1)$-farbenie grafu $G$ s rozsahom $k$. Pod pojmom \emph{charakteristika rádu $k$
    zobrazenia $f$} budeme rozumieť dvojicu $(F_P, F_O)$, kde $F_P$ je množina vrcholov ofarbená
    hodnotou $k$ a $F_O$ je množina ostatných ofarbených vrcholov.
\end{defn}

Z algoritmu Junosza-Szaniawski môžeme vidieť, že na reprezentáciu množiny čiastočných farbení
s obmedzeným rozsahom nám stačí ukladať množinu charakteristík fixného rádu. Keď nepotrebujeme
pre každý ofarbený vrchol ukladať jeho presnú farbu, môžeme si dovoliť reprezentovať aj
vrcholové separátory a použiť ich na rozdelenie problému. O presnom spôsobe a aplikácií
takéhoto rozdelenia si povieme v ďalšej časti.

Predtým si ale stručne pripomenieme lemu o hranových separátoroch z predošlej kapitoly \ref{hrsep-lema}.
Táto lema hovorí, že existencia $L(2,1)$-farbenia grafu $G$ vyplýva z existencie $L(2,1)$-farbení
komponentov grafu $G-E$ pre hranový oddeľovač $E$. Tieto farbenia musia navyše farbiť všetky vrcholy
z hranového oddeľovača a musia sa zhodovať v ich farbách.

Podobné tvrdenie platí aj pre čiastočné farbenia. V tomto prípade je podmienkou, že všetky čiastočné
farbenia farbia tú istú podmnožinu vrcholov z hranového oddeľovača a navyše im priradzujú rovnakú farbu.
Keďže ide o takmer identické tvrdenie k leme o hranových separátoroch \ref{hrsep-lema}, nebudeme
jeho presné znenie uvádzať.

\section{Rozdelenie na vrcholových separátoroch}

Základnou myšlienkou rozdelenia na vrcholových separátoroch je, že ak máme zafixované čiastočné
farbenie separátora a všetkých jeho susedov, farbenie zvyšných vrcholov v rôznych komponentoch
je nezávislé.

\begin{lema}
    Nech $S_V$ je vrcholový separátor grafu $G$, nech $G_1, G_2, \ldots G_k$ sú komponenty
    grafu $G - S_V$ a nech $H_1, H_2, \ldots, H_k$ sú grafy indukované množinami $V(G_1) \cup S_V,\ V(G_2) \cup S_V,\ \ldots,\ V(G_k) \cup S_V$.
    Nech $f$ je čiastočné $L(2,1)$-farbenie nejakej podmnožiny $S \subseteq N[S_V]$ v grafe $G$ a nech $f_1, f_2, \ldots f_k$
    sú čiastočné farbenia množín $S_1, S_2, \ldots, S_k$ v grafoch $H_1, H_2, \ldots, H_k$ (v tomto poradí), ktoré spĺňajú podmienku

    $$ \forall i \in \{1 \ldots k\},\ \forall v \in V(H_i) \cap N[S_V]: (v \in S_i \Leftrightarrow v \in S) \wedge (v \in S_i \Rightarrow f_i(v) = f(v)).$$

    Potom zobrazenie $\omega: \bigcup \limits_{i=1}^k S_i \to \mathbb{N}$ definované nasledovne:

    \[ \omega(v) =
    \begin{cases}
        f(v), & v \in S \\
        f_i(v), & v \in S_i - S
    \end{cases}
    \]

    tvorí čiastočné farbenie grafu $G$.
\end{lema}

\begin{proof}
    Dôkaz je veľmi podobný dôkazu lemy o hranových separátoroch \ref{hrsep-lema} v predošlej kapitole. Všetky
    vrcholy ofarbené vrámci jedného grafu $H_i$ nemôžu porušiť podmienku čiastočného $L(2,1)$-farbenia. Podobne
    pre dva vrcholy v $S$.
    
    Každá dvojica vrcholov, kde jeden patrí do $S_i - S$ a druhý do $S - S_i$ má vzdialenosť
    aspoň $3$, lebo cesta medzi nimi musí obsahovať aspoň jeden úsek, ktorý tvorí hrana z $S_i - S$ do $N(S)$, hrana
    z $N(S)$ do $S$ a hrana z $S$ do iného vrchola $N(S)$.

    Nakoniec každá dvojica vrcholov, kde jeden patrí do $S_i - S$ a druhý do $S_j - S$, kde $i \neq j$, musí mať tiež
    vzdialenosť aspoň $3$.
\end{proof}

Okolie jedného vrchola môže byť pomerne veľké, napríklad vo hviezdach v ňom môžu byť všetky zvyšné vrcholy.
Pri reprezentácii čiastočného farbenia cez jeho charakteristiku nám to však nevadí. Rôznych charakteristík,
ktoré môžu mať čiastočné farbenia malého separátora a jeho okolia, je malý. Horný odhad pre počet rôznych
charakteristík si zhrnieme v nasledujúcej leme.

\begin{lema}
    Nech $S$ je vrcholový separátor grafu $G$, nech $q = |S|$ a $r = |N[S]|$, nech $k \in \mathbb{N}$ je ľubovoľné
    číslo, nech $F$ je množina všetkých čiastočných farbení s rozsahom $k$, ktoré ofarbujú nejakú podmnožinu $N[S]$,
    nech $C$ je množina všetkých charakteristík rádu $k$ farbení v $F$. Potom $|S| \leq 2^r \cdot r^{q}$.
\end{lema}
\begin{proof}
\end{proof}
